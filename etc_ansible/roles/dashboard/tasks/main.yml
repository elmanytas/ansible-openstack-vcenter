# http://docs.openstack.org/liberty/install-guide-ubuntu/horizon.html
- name: Install packages
  apt: name={{ item }} state=present
  with_items:
  - openstack-dashboard
  - apache2
  - libapache2-mod-wsgi
  tags:
  - appliance

- name: Configure horizon
  template: src=local_settings.py.j2 dest=/etc/openstack-dashboard/local_settings.py owner=root group=root mode=0644
  notify:
  - restart apache2

# Designate Dashboard
- name: Install designate dashboard
  apt: name=python-designate-dashboard state=present
  notify: restart apache2

- name: Workaround for Exception Versioning for this project requires either an sdist tarball, or access to an upstream git repository
  copy: src=__init__.py dest=/usr/lib/python2.7/dist-packages/designatedashboard/__init__.py owner=root group=root mode=0644
  notify: restart apache2
